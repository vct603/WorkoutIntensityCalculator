<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é‹å‹•å¼·åº¦è¨ˆç®—å™¨</title>
  <style>
    body {
      font-family: "Noto Sans TC", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      padding: 1px;
      background-color: #e5e5f7;
      opacity: 0.9;
      background-image:  repeating-radial-gradient( circle at 0 0, transparent 0, #e5e5f7 90px ), repeating-linear-gradient( #ffffff55, #ffffff );
    }

    body.dark {
        background-color: #000000;
        opacity: 0.9;
        background-image:  repeating-radial-gradient( circle at 0 0, transparent 0, #000000 90px ), repeating-linear-gradient( #18181e55, #343446 );
    }

    h1 {
      margin-top: -100px;
      margin-bottom: 100px;
      color: #333;
      font-size: 80px;
      transition: color 1s ease;
    }

    body.dark h1 {
      color: #f0f0f0;
    }

    .container {
      background: rgba(36, 36, 36, 0.9);  /* ç¨å¾®é€æ˜ï¼Œä¿è­‰å­—é«”é¡¯ç¤ºæ¸…æ¥š */
      color: #ffffff;  /* é»‘è‰²å­—é«” */
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
      padding: 60px 40px;
      border-radius: 15px;
      width: 100%;
      max-width: 400px;
      transition: background 0.5s ease, color 0.5s ease, box-shadow 0.5s ease;
    }

    body.dark .container {
      background: rgba(255, 255, 255, 0.8);  /* ç™½è‰²èƒŒæ™¯ï¼Œé€æ˜åº¦80% */
      color: #333;  /* é»‘è‰²å­—é«” */
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
    }


    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
      font-size: 35px;
    }

    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 20px;
    }

    button {
      width: 100%;
      padding: 12px;
      margin-top: 20px;
      background-color: #b6b9ec;
      color: #000000;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      font-size: 18px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    body.dark button {
      width: 100%;
      padding: 12px;
      margin-top: 20px;
      background-color: #878acf;
      color: #ffffff;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      font-size: 18px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #878acf;
    }

    body.dark button:hover {
      background-color: #b6b9ec;
    }

    #toggleMode {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 40px;
      height: 40px;
      background-color: #fff;
      color: #000000;
      border-radius: 50%;
      border: none;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: background-color 0.3s ease;
    }

    #toggleMode.dark {
        position: absolute;
      top: 20px;
      right: 20px;
      width: 40px;
      height: 40px;
      background-color: #333;
      color: #fff;
      border-radius: 50%;
      border: none;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #toggleMode:hover {
      background-color: #363636c4;
    }
    #toggleMode.dark:hover {
      background-color: #f7f7f7be;
    }

    #result {
      margin-top: 25px;
      font-size: 18px;
      text-align: center;
    }
    

    @media (max-width: 480px) {
      .container {
        padding: 20px;
      }
    }
  </style>
</head>

<body>
  <button id="toggleMode" onclick="toggleMode()">ğŸŒ™</button>

  <h1>é‹å‹•å¼·åº¦è¨ˆç®—å™¨</h1>

  <div class="container">
    <label>å¹´é½¡</label>
    <input type="number" id="age" min="1" placeholder="è¼¸å…¥æ‚¨çš„å¹´é½¡">

    <label>å®‰éœå¿ƒè·³ç‡</label>
    <input type="number" id="rest" min="0" placeholder="è¼¸å…¥å®‰éœå¿ƒè·³ç‡">

    <label>ç›®æ¨™å¼·åº¦</label>
    <select id="intense">
      <option value="light">è¼•åº¦ (50% ~ 60%)</option>
      <option value="low">ä½åº¦ (60% ~ 70%)</option>
      <option value="mid">ä¸­åº¦ (70% ~ 80%)</option>
      <option value="high">é«˜åº¦ (80% ~ 100%)</option>
    </select>

    <button onclick="calculate()">è¨ˆç®—ï¼</button>

    <div id="result">
      æœ€ä½å¿ƒè·³: <strong>0 bpm</strong><br>
      æœ€é«˜å¿ƒè·³: <strong>0 bpm</strong>
    </div>     
  </div>

  <script>
    function kar(age, rest, intense) {
      let max = 220 - age;
      return ((max - rest) * intense) + rest;
    }

    function calculate() {
      const age = parseInt(document.getElementById('age').value);
      const rest = parseInt(document.getElementById('rest').value);
      const level = document.getElementById('intense').value;
      let minTgt, maxTgt;

      if (isNaN(age) || isNaN(rest)) {
        document.getElementById('result').innerText = "è«‹æ­£ç¢ºè¼¸å…¥å¹´é½¡å’Œå®‰éœå¿ƒè·³ç‡ï¼";
        return;
      }
      if (age < 1) {
        document.getElementById('result').innerText = "å¹´é½¡å¿…é ˆå¤§æ–¼æˆ–ç­‰æ–¼ 1 æ­²ï¼";
        return;
      }
      if (rest < 0) {
        document.getElementById('result').innerText = "å®‰éœå¿ƒè·³ç‡å¿…é ˆå¤§æ–¼æˆ–ç­‰æ–¼ 0ï¼";
        return;
      }

      if (level === "light") {
        minTgt = kar(age, rest, 0.5);
        maxTgt = kar(age, rest, 0.6);
      } else if (level === "low") {
        minTgt = kar(age, rest, 0.6);
        maxTgt = kar(age, rest, 0.7);
      } else if (level === "mid") {
        minTgt = kar(age, rest, 0.7);
        maxTgt = kar(age, rest, 0.8);
      } else if (level === "high") {
        minTgt = kar(age, rest, 0.8);
        maxTgt = kar(age, rest, 1.0);
      } else {
        document.getElementById('result').innerText = "è«‹é¸æ“‡æ­£ç¢ºçš„å¼·åº¦ï¼";
        return;
      }

      document.getElementById('result').innerHTML = `
        æœ€ä½å¿ƒè·³: <strong>${Math.round(minTgt)} bpm</strong><br>
        æœ€é«˜å¿ƒè·³: <strong>${Math.round(maxTgt)} bpm</strong>
      `;
    }

    function toggleMode() {
      document.body.classList.toggle('dark');
      document.getElementById('toggleMode').classList.toggle('dark');
      if (document.body.classList.contains('dark')) {
        document.getElementById('toggleMode').innerHTML = "â˜€ï¸";
      } else {
        document.getElementById('toggleMode').innerHTML = "ğŸŒ™";
      }
    }
  </script>
</body>
</html>
